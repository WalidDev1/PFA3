{% extends 'base.html.twig' %}

{% block title %}Hello ConditionController!
{% endblock %}

{% block body %}
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote.min.css">
	<link rel="stylesheet" href="/assets/css/all.min.css">
	<div class="nav-wrapper">
		<ul class="nav nav-pills nav-fill flex-column flex-md-row" id="tabs-icons-text" role="tablist">
			<li class="nav-item">
				<a class="nav-link mb-sm-3 mb-md-0 active" id="tabs-icons-text-1-tab" data-toggle="tab" href="#tabs-icons-text-1" role="tab" aria-controls="tabs-icons-text-1" aria-selected="true">
					<i class="fas fa-file-alt"></i>
					Condition generale d'utilisation</a>
			</li>
			<li class="nav-item">
				<a class="nav-link mb-sm-3 mb-md-0" id="tabs-icons-text-2-tab" data-toggle="tab" href="#tabs-icons-text-2" role="tab" aria-controls="tabs-icons-text-2" aria-selected="false">
					<i class="ni ni-bell-55 mr-2"></i>
					Regle de banne automatique
				</a>
			</li>
			<li class="nav-item">
				<a class="nav-link mb-sm-3 mb-md-0" id="tabs-icons-text-3-tab" data-toggle="tab" href="#tabs-icons-text-3" role="tab" aria-controls="tabs-icons-text-3" aria-selected="false">
					<i class="fas fa-dollar-sign"></i>
					Prix pack</a>
			</li>
		</ul>
	</div>
	<div class="card shadow">
		<div class="card-body">
			<div class="tab-content" id="myTabContent">
				<div class="tab-pane fade show active" id="tabs-icons-text-1" role="tabpanel" aria-labelledby="tabs-icons-text-1-tab">
                    <form action="/condition" method="post">
                        <p class="description">Dans cette onglet vous avez la possibilite de rediger vous meme les conditions generale d'itilisation de l'application.</p>
                        <div class="mb-3">
                            <textarea class=" textarea form-control" type="textarea" placeholder="Place some text here" name="contente" style="width: 100%; height: 200px; font-size: 14px; line-height: 18px; border: 1px solid #dddddd; padding: 10px;"> {% for val in Condition %}{{ val.Description }}{% endfor %}
                            </textarea>              
                                      </div>
                        <p>N.B : vous pouvez ecrire
                            <spam id="total-caracteres">
                                300
                            </spam>
                            caractere</p>
                            <div class="row" style="flex-flow: column;">
                            <input type="hidden"  class="sendNote" name="var" /> 
                        <button class="btn btn-icon btn-success" type="submit" >
                            <span class="btn-inner--icon">
                                <i class="fas fa-hdd"></i>
                            </span>
                            <span class="btn-inner--text">Enregistrer</span>
                        </button>
                        </div>
                    </form>
				</div>
				<div class="tab-pane fade" id="tabs-icons-text-2" role="tabpanel" aria-labelledby="tabs-icons-text-2-tab">
                <div class="out"></div>
                </div>
				<div class="tab-pane fade" id="tabs-icons-text-3" role="tabpanel" aria-labelledby="tabs-icons-text-3-tab">
					<p class="description">Raw denim you probably haven't heard of them jean shorts Austin. Nesciunt tofu stumptown aliqua, retro synth master cleanse. Mustache cliche tempor, williamsburg carles vegan helvetica. Reprehenderit butcher retro keffiyeh dreamcatcher synth.</p>
				</div>
			</div>
		</div>
	</div>
           <script
  src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
  crossorigin="anonymous"
  type="text/javascript"
  ></script>
	<script>
		$(function () { // Summernote
            $('.textarea').summernote({
                height: "300",
                callbacks: {
                    onKeydown: function (e) {
                        var limiteCaracteres = 300;
                        var t = e.currentTarget.innerText;
                        var caracteres = $('.note-editable').text();
                        var totalCaracteres = caracteres.length;
                        // Update value
                        $("#total-caracteres").text(300 - (totalCaracteres + 1));
                        // Check and Limit Charaters
                        if (totalCaracteres >= limiteCaracteres) {
                            if (e.keyCode != 8) {
                                e.preventDefault();
                            }
                        }
                    },
                    onKeyup:function (e){
                        var markupStr = $('.textarea').summernote('code');
                        $('.sendNote').val(markupStr);   
                    }
                }
            });
        })
	</script>
{% endblock %}
